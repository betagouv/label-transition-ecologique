(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[541],{5992:function(e,t,l){Promise.resolve().then(l.bind(l,75837)),Promise.resolve().then(l.bind(l,98364)),Promise.resolve().then(l.bind(l,52714))},52714:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return m}});var s=l(26705),n=l(13882),r=l(32919),i=l(98864),a=l.n(i),c=l(20955),o=l(31619),d=e=>{let{initEtoiles:t,onChangeEtoiles:l}=e,[n,r]=(0,c.useState)([1,2,3,4,5].map(e=>!!t.includes(e)));return(0,c.useEffect)(()=>{r([1,2,3,4,5].map(e=>!!t.includes(e)))},[t.length]),(0,c.useEffect)(()=>{let e=[];n.forEach((t,l)=>{t&&e.push(l+1)}),l(e)},[n,l]),(0,s.jsx)("div",{className:"flex flex-col items-start gap-4",children:n.map((e,t)=>(0,s.jsxs)("div",{className:"fr-checkbox-group",children:[(0,s.jsx)("input",{name:"".concat(t+1,"etoiles"),id:"".concat(t+1,"etoiles"),type:"checkbox","aria-describedby":"".concat(t+1," \xe9toile(s)"),checked:e,onChange:()=>{let e=[...n];e[t]=!n[t],r(e)}}),(0,s.jsx)("label",{htmlFor:"".concat(t+1,"etoiles"),className:"hover:shadow-none",children:[1,2,3,4,5].filter(e=>e<=t+1).map(e=>(0,s.jsx)(o.Al,{className:"h-[23px] w-[26px]"},e))})]},t+1))})};l(94566);var u=e=>{let{id:t,label:l,name:n,checked:r,onCheck:i}=e;return(0,s.jsxs)("div",{className:"button block relative fr-btn fr-btn--secondary rounded-md h-fit !w-full",children:[(0,s.jsx)("input",{className:"opacity-0 block absolute top-0 bottom-0 left-0 right-0",type:"radio",id:t,value:t,name:n,checked:r,onChange:i}),(0,s.jsx)("label",{className:"block absolute top-0 bottom-0 left-0 right-0 w-full text-center leading-10 cursor-pointer hover:bg-[#f6f6f6] hover:rounded-md",htmlFor:t,children:l})]})},f=e=>{let{selectedFilter:t,onChangeFilter:l}=e;return(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-[280px]",children:[(0,s.jsx)(u,{id:"engagees",label:"Toutes les collectivit\xe9s",name:"filtre",checked:"engagees"===t,onCheck:()=>l("engagees")}),(0,s.jsx)(u,{id:"labellisees_cae",label:"Labellis\xe9es Climat Air Energie",name:"filtre",checked:"labellisees_cae"===t,onCheck:()=>l("labellisees_cae")}),(0,s.jsx)(u,{id:"labellisees_eci",label:"Labellis\xe9es \xc9conomie Circulaire",name:"filtre",checked:"labellisees_eci"===t,onCheck:()=>l("labellisees_eci")}),(0,s.jsx)(u,{id:"cot",label:"Signataires d'un COT",name:"filtre",checked:"cot"===t,onCheck:()=>l("cot")})]})},x=()=>{let[e,t]=(0,c.useState)(null),[n,r]=(0,c.useState)([1,2,3,4,5]),[i,o]=(0,c.useState)();(0,c.useEffect)(()=>t("engagees"),[]),(0,c.useEffect)(()=>(o(window.innerWidth),window.addEventListener("resize",()=>o(window.innerWidth)),()=>window.removeEventListener("resize",()=>o(window.innerWidth))),[]);let u=a()(()=>Promise.all([l.e(212),l.e(248),l.e(333),l.e(218)]).then(l.bind(l,44218)),{loadableGenerated:{webpack:()=>[44218]},ssr:!1,loading:()=>(0,s.jsx)("div",{className:"w-full md:w-[700px] md:h-[700px] lg:w-[550px] lg:h-[550px] xl:w-[700px] xl:h-[700px] mb-12 mx-auto flex items-center justify-center",style:i&&i<768?{height:i}:{},children:(0,s.jsx)("p",{children:"Chargement..."})})});return e?(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between mt-8",children:[(0,s.jsx)("div",{className:"w-full md:w-[700px] md:h-[700px] lg:w-[550px] lg:h-[550px] xl:w-[700px] xl:h-[700px] mb-12 mx-auto",style:i&&i<768?{height:i}:{},children:(0,s.jsx)(u,{filtre:e,etoiles:n})}),(0,s.jsxs)("div",{className:"flex flex-col items-start justify-start gap-8",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,s.jsx)("div",{className:"bg-[#4D75AC] min-w-[40px] h-[30px] rounded-2xl"}),(0,s.jsxs)("div",{className:"lg:w-[350px]",children:[(0,s.jsx)("strong",{children:"Collectivit\xe9s engag\xe9es labellis\xe9es"})," sur au moins un des 2 r\xe9f\xe9rentiels : Climat Air \xc9nergie (CAE) et/ou \xc9conomie Circulaire (ECi)"]})]}),(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,s.jsx)("div",{className:"bg-[#9E9E9E] min-w-[40px] h-[30px] rounded-2xl"}),(0,s.jsxs)("div",{className:"lg:w-[350px]",children:[(0,s.jsx)("strong",{children:"Collectivit\xe9s engag\xe9es non labellis\xe9es"})," signataires d'un Contrat d'Objectif Territorial (COT)"]})]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row lg:flex-col justify-between gap-8 w-full md:px-16 lg:px-0",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center w-full md:w-fit lg:w-full ",children:[(0,s.jsx)("p",{className:"text-[#000091]",children:"Je d\xe9couvre les collectivit\xe9s engag\xe9es :"}),(0,s.jsx)(f,{selectedFilter:e,onChangeFilter:e=>{t(e),r([1,2,3,4,5])}})]}),("labellisees_cae"===e||"labellisees_eci"===e)&&(0,s.jsxs)("div",{className:"flex flex-col items-center w-full md:w-fit lg:w-full",children:[(0,s.jsx)("p",{className:"text-[#000091]",children:"Je filtre par niveau de labellisation :"}),(0,s.jsx)(d,{initEtoiles:n,onChangeEtoiles:r})]})]})]})]}):null},m=()=>{let e=(0,c.useRef)(null),[t,l]=(0,c.useState)("");return(0,c.useEffect)(()=>{let e=window.location.href,t=e.split("#")[1];l(t)},[]),(0,c.useEffect)(()=>{t&&"carte"===t&&e&&e.current&&setTimeout(()=>{var t;null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"start"})},50)},[e,t]),(0,s.jsx)("div",{ref:e,children:(0,s.jsxs)(r.Z,{children:[(0,s.jsx)("h2",{children:"De nombreuses collectivit\xe9s ont d\xe9j\xe0 franchi le cap !"}),(0,s.jsx)(x,{}),(0,s.jsx)(n.Z,{href:"/faq",secondary:!0,rounded:!0,className:"mt-16 mx-auto",children:"Lire les questions fr\xe9quentes"})]})})}},98364:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return f}});var s=l(26705),n=l(54440),r=l.n(n),i=e=>{let{children:t,cols:l,className:n}=e;return(0,s.jsx)("div",{className:r()("grid gap-8 grid-cols-1 md:grid-cols-2",{"lg:grid-cols-3":3===l,"lg:grid-cols-4":4===l,"lg:grid-cols-5":5===l},n),children:t})},a=l(32919),c=e=>{let{id:t,title:l,description:n,cardsList:r,children:i,customBackground:c}=e;return(0,s.jsxs)(a.Z,{id:t,customBackground:c,children:[(0,s.jsx)("h2",{children:l}),n&&(0,s.jsx)("p",{className:"text-xl",children:n}),r,i]})},o=l(47616),d=l(8411),u=l(20955),f=e=>{let{titre:t,description:l,contenu:n}=e,[r,a]=(0,u.useState)([]);return(0,u.useEffect)(()=>{let e=async()=>{if(n){let e=[...n];e.forEach(async e=>{let t=await (0,d.Y)(e.description);e.description=t}),a(e)}};e()},[n]),n&&r.length?(0,s.jsx)(c,{title:t,description:l,cardsList:(0,s.jsx)(i,{cols:5,children:r.map((e,t)=>(0,s.jsxs)("div",{className:"flex flex-col items-center gap-8",children:[e.image&&(0,s.jsx)("div",{className:"w-[140px] h-[140px] bg-white rounded-full flex items-center justify-center",children:(0,s.jsx)(o.p,{data:e.image,displayCaption:!1})}),(0,s.jsx)("p",{className:"text-center",dangerouslySetInnerHTML:{__html:e.description}})]},t))}),customBackground:"#fff6f0"}):null}},13882:function(e,t,l){"use strict";var s=l(26705),n=l(54440),r=l.n(n);t.Z=e=>{let{children:t,href:l,rounded:n=!1,secondary:i=!1,external:a=!1,fullWidth:c=!1,className:o}=e;return(0,s.jsx)("a",{className:r()("fr-btn !h-fit",o,{"rounded-md":n,"fr-btn--secondary":i,"!w-full":c}),target:a?"_blank":void 0,rel:a?"noreferrer noopener":void 0,href:l,children:(0,s.jsx)("span",{className:"w-full text-center",children:t})})}},31619:function(e,t,l){"use strict";l.d(t,{Al:function(){return i},bQ:function(){return r}});var s=l(26705);let n=e=>{let{fill:t,title:l,className:n}=e;return(0,s.jsxs)("svg",{width:"39",height:"38",viewBox:"0 0 39 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[l?(0,s.jsx)("title",{children:l}):null,(0,s.jsx)("path",{d:"M19.5002 30.434L7.74518 37.014L10.3702 23.8006L0.478516 14.654L13.8569 13.0673L19.5002 0.833984L25.1435 13.0673L38.5219 14.654L28.6302 23.8006L31.2552 37.014L19.5002 30.434Z",fill:t})]})},r=e=>(0,s.jsx)(n,{...e,fill:"#e5e5e5"}),i=e=>(0,s.jsx)(n,{...e,fill:"#00A95F"})},75837:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return f}});var s=l(26705),n=l(13882),r=l(54440),i=l.n(r),a=e=>{let{className:t}=e;return(0,s.jsx)("svg",{className:t,width:"189",height:"143",viewBox:"0 0 189 143",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152.677 5.61575C171.585 13.5756 184.891 32.5389 188.112 52.3215C191.333 72.1041 184.33 92.7061 170.465 107.338C156.599 121.97 135.871 130.75 114.582 136.603C93.1533 142.572 71.1643 145.616 54.3575 139.412C37.5507 133.208 25.9259 117.639 15.8418 101.837C5.75772 86.151 -2.78576 70.2312 0.855721 56.6526C4.63726 43.074 20.4637 31.9536 36.4302 23.6425C52.3967 15.3315 68.2231 9.71275 88.5314 5.38164C108.84 0.933474 133.63 -2.22707 152.677 5.61575Z",fill:"white"})})},c=e=>{let{pictogram:t}=e;return(0,s.jsxs)("div",{className:"relative",style:{position:"relative"},children:[(0,s.jsx)(a,{}),(0,s.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:t})]})},o=l(20955),d=l(8411),u=l(32919),f=e=>{let{id:t,content:l,pictogram:r,buttons:a,customBackground:f,customTextStyle:x}=e,[m,h]=(0,o.useState)("");return(0,o.useEffect)(()=>{let e=async()=>{let e=await (0,d.Y)(l);h(e)};e()},[l]),(0,s.jsxs)(u.Z,{id:t,className:"items-center lg:px-52 !gap-10 lg:flex-row",customBackground:f,children:[(0,s.jsx)(c,{pictogram:r}),(0,s.jsxs)("div",{className:"text-center lg:text-left",children:[(0,s.jsx)("p",{className:i()("text-xl",x),dangerouslySetInnerHTML:{__html:m}}),(0,s.jsx)("div",{className:"fr-btns-group fr-btns-group--inline-md justify-center lg:justify-start",children:a.length>0&&a.map(e=>(0,s.jsx)(n.Z,{href:e.href,secondary:e.secondary,external:e.external,rounded:!0,children:e.title},e.title))})]})]})}},32919:function(e,t,l){"use strict";var s=l(26705),n=l(54440),r=l.n(n);t.Z=e=>{let{id:t,children:l,containerClassName:n="",className:i="",customBackground:a}=e;return(0,s.jsx)("section",{id:t,className:r()("section fr-py-7w",n),style:{backgroundColor:a},children:(0,s.jsx)("div",{className:r()("fr-container flex flex-col gap-4",i),children:l})})}},47616:function(e,t,l){"use strict";l.d(t,{p:function(){return n}});var s=l(26705);function n(e){var t,l;let{data:n,size:r,className:i,containerClassName:a,displayCaption:c=!1}=e,o=n.attributes,d=r&&(null===(t=o.formats)||void 0===t?void 0:t.size)?"".concat(o.formats[r].url):"".concat(o.url);return(0,s.jsxs)("picture",{className:a,children:[(0,s.jsx)("img",{className:i,src:d.startsWith("http")?d:"".concat("https://passionate-wonder-8e064cba29.strapiapp.com").concat(d),alt:"".concat(null!==(l=o.alternativeText)&&void 0!==l?l:"")}),c&&!!o.caption&&(0,s.jsx)("p",{className:"!text-sm text-[#666] mt-2 mb-0 w-full text-center",children:"".concat(o.caption)})]})}},98864:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let s=l(21024);l(20955);let n=s._(l(90533));function r(e){return{default:(null==e?void 0:e.default)||e}}function i(e,t){let l=n.default,s={loading:e=>{let{error:t,isLoading:l,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e),Object.assign(s,t);let i=s.loader;return l({...s,loader:()=>null!=i?i().then(r):Promise.resolve(r(()=>null))})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},33699:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{suspense:function(){return n},NoSSR:function(){return r}}),l(21024),l(20955);let s=l(37669);function n(){let e=Error(s.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=s.NEXT_DYNAMIC_NO_SSR_CODE,e}function r(e){let{children:t}=e;return t}},90533:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let s=l(21024),n=s._(l(20955)),r=l(33699),i=function(e){let t=Object.assign({loader:null,loading:null,ssr:!0},e);function l(e){let l=t.loading,s=n.default.createElement(l,{isLoading:!0,pastDelay:!0,error:null}),i=t.ssr?n.default.Fragment:r.NoSSR,a=t.lazy;return n.default.createElement(n.default.Suspense,{fallback:s},n.default.createElement(i,null,n.default.createElement(a,e)))}return t.lazy=n.default.lazy(t.loader),l.displayName="LoadableComponent",l}},8411:function(e,t,l){"use strict";l.d(t,{Y:function(){return r}});var s=l(87925),n=l(2924);let r=async e=>{let t=await (0,s.j)().use(n.Z).process("".concat(e));return t.toString()}},94566:function(){}},function(e){e.O(0,[743,121,114,744],function(){return e(e.s=5992)}),_N_E=e.O()}]);